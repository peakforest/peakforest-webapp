/*! =========================================================
 * bootstrap-slider.js
 *
 * Maintainers:
 *		Kyle Kemp
 *			- Twitter: @seiyria
 *			- Github:  seiyria
 *		Rohit Kalkur
 *			- Twitter: @Rovolutionary
 *			- Github:  rovolution
 *
 * =========================================================
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */
(function(a,b){if(typeof define==="function"&&define.amd){define(["jquery"],b)}else{if(typeof module==="object"&&module.exports){var d;try{d=require("jquery")}catch(c){d=null}module.exports=b(d)}else{a.Slider=b(a.jQuery)}}}(this,function(b){var a;(function(e){var f=Array.prototype.slice;function d(){}function c(h){if(!h){return}function j(k){if(k.prototype.option){return}k.prototype.option=function(l){if(!h.isPlainObject(l)){return}this.options=h.extend(true,this.options,l)}}var g=typeof console==="undefined"?d:function(k){console.error(k)};function i(k,l){h.fn[k]=function(p){if(typeof p==="string"){var o=f.call(arguments,1);for(var q=0,n=this.length;q<n;q++){var s=this[q];var m=h.data(s,k);if(!m){g("cannot call methods on "+k+" prior to initialization; attempted to call '"+p+"'");continue}if(!h.isFunction(m[p])||p.charAt(0)==="_"){g("no such method '"+p+"' for "+k+" instance");continue}var r=m[p].apply(m,o);if(r!==undefined&&r!==m){return r}}return this}else{var t=this.map(function(){var u=h.data(this,k);if(u){u.option(p);u._init()}else{u=new l(this,p);h.data(this,k,u)}return h(this)});if(!t||t.length>1){return t}else{return t[0]}}}}h.bridget=function(k,l){j(l);i(k,l)};return h.bridget}c(e)})(b);(function(f){var g={formatInvalidInputErrorMsg:function(h){return"Invalid input value '"+h+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"};var d={linear:{toValue:function(p){var l=p/100*(this.options.max-this.options.min);if(this.options.ticks_positions.length>0){var q,n,j,h=0;for(var m=0;m<this.options.ticks_positions.length;m++){if(p<=this.options.ticks_positions[m]){q=(m>0)?this.options.ticks[m-1]:0;j=(m>0)?this.options.ticks_positions[m-1]:0;n=this.options.ticks[m];h=this.options.ticks_positions[m];break}}if(m>0){var k=(p-j)/(h-j);l=q+k*(n-q)}}var o=this.options.min+Math.round(l/this.options.step)*this.options.step;if(o<this.options.min){return this.options.min}else{if(o>this.options.max){return this.options.max}else{return o}}},toPercentage:function(m){if(this.options.max===this.options.min){return 0}if(this.options.ticks_positions.length>0){var j,h,n,l=0;for(var k=0;k<this.options.ticks.length;k++){if(m<=this.options.ticks[k]){j=(k>0)?this.options.ticks[k-1]:0;n=(k>0)?this.options.ticks_positions[k-1]:0;h=this.options.ticks[k];l=this.options.ticks_positions[k];break}}if(k>0){var o=(m-j)/(h-j);return n+o*(l-n)}}return 100*(m-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(i){var j=(this.options.min===0)?0:Math.log(this.options.min);var h=Math.log(this.options.max);var k=Math.exp(j+(h-j)*i/100);k=this.options.min+Math.round((k-this.options.min)/this.options.step)*this.options.step;if(k<this.options.min){return this.options.min}else{if(k>this.options.max){return this.options.max}else{return k}}},toPercentage:function(k){if(this.options.max===this.options.min){return 0}else{var h=Math.log(this.options.max);var j=this.options.min===0?0:Math.log(this.options.min);var i=k===0?0:Math.log(k);return 100*(i-j)/(h-j)}}}};a=function(i,h){c.call(this,i,h);return this};function c(m,p){this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:false,over:false};if(typeof m==="string"){this.element=document.querySelector(m)}else{if(m instanceof HTMLElement){this.element=m}}p=p?p:{};var x=Object.keys(this.defaultOptions);for(var C=0;C<x.length;C++){var v=x[C];var H=p[v];H=(typeof H!=="undefined")?H:G(this.element,v);H=(H!==null)?H:this.defaultOptions[v];if(!this.options){this.options={}}this.options[v]=H}if(this.options.orientation==="vertical"&&(this.options.tooltip_position==="top"||this.options.tooltip_position==="bottom")){this.options.tooltip_position="right"}else{if(this.options.orientation==="horizontal"&&(this.options.tooltip_position==="left"||this.options.tooltip_position==="right")){this.options.tooltip_position="top"}}function G(J,L){var I="data-slider-"+L.replace(/_/g,"-");var i=J.getAttribute(I);try{return JSON.parse(i)}catch(K){return i}}var z=this.element.style.width;var l=false;var w=this.element.parentNode;var r;var j,q;var k;var y;if(this.sliderElem){l=true}else{this.sliderElem=document.createElement("div");this.sliderElem.className="slider";var h=document.createElement("div");h.className="slider-track";j=document.createElement("div");j.className="slider-track-low";r=document.createElement("div");r.className="slider-selection";q=document.createElement("div");q.className="slider-track-high";k=document.createElement("div");k.className="slider-handle min-slider-handle";y=document.createElement("div");y.className="slider-handle max-slider-handle";h.appendChild(j);h.appendChild(r);h.appendChild(q);this.ticks=[];if(Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(C=0;C<this.options.ticks.length;C++){var D=document.createElement("div");D.className="slider-tick";this.ticks.push(D);h.appendChild(D)}r.className+=" tick-slider-selection"}h.appendChild(k);h.appendChild(y);this.tickLabels=[];if(Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0){this.tickLabelContainer=document.createElement("div");this.tickLabelContainer.className="slider-tick-label-container";for(C=0;C<this.options.ticks_labels.length;C++){var u=document.createElement("div");var A=this.options.ticks_positions.length===0;var F=(this.options.reversed&&A)?(this.options.ticks_labels.length-(C+1)):C;u.className="slider-tick-label";u.innerHTML=this.options.ticks_labels[F];this.tickLabels.push(u);this.tickLabelContainer.appendChild(u)}}var s=function(I){var J=document.createElement("div");J.className="tooltip-arrow";var i=document.createElement("div");i.className="tooltip-inner";I.appendChild(J);I.appendChild(i)};var t=document.createElement("div");t.className="tooltip tooltip-main";s(t);var n=document.createElement("div");n.className="tooltip tooltip-min";s(n);var o=document.createElement("div");o.className="tooltip tooltip-max";s(o);this.sliderElem.appendChild(h);this.sliderElem.appendChild(t);this.sliderElem.appendChild(n);this.sliderElem.appendChild(o);if(this.tickLabelContainer){this.sliderElem.appendChild(this.tickLabelContainer)}w.insertBefore(this.sliderElem,this.element);this.element.style.display="none"}if(f){this.$element=f(this.element);this.$sliderElem=f(this.sliderElem)}this.eventToCallbackMap={};this.sliderElem.id=this.options.id;this.touchCapable="ontouchstart" in window||(window.DocumentTouch&&document instanceof window.DocumentTouch);this.tooltip=this.sliderElem.querySelector(".tooltip-main");this.tooltipInner=this.tooltip.querySelector(".tooltip-inner");this.tooltip_min=this.sliderElem.querySelector(".tooltip-min");this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner");this.tooltip_max=this.sliderElem.querySelector(".tooltip-max");this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner");if(d[this.options.scale]){this.options.scale=d[this.options.scale]}if(l===true){this._removeClass(this.sliderElem,"slider-horizontal");this._removeClass(this.sliderElem,"slider-vertical");this._removeClass(this.tooltip,"hide");this._removeClass(this.tooltip_min,"hide");this._removeClass(this.tooltip_max,"hide");["left","top","width","height"].forEach(function(i){this._removeProperty(this.trackLow,i);this._removeProperty(this.trackSelection,i);this._removeProperty(this.trackHigh,i)},this);[this.handle1,this.handle2].forEach(function(i){this._removeProperty(i,"left");this._removeProperty(i,"top")},this);[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(i){this._removeProperty(i,"left");this._removeProperty(i,"top");this._removeProperty(i,"margin-left");this._removeProperty(i,"margin-top");this._removeClass(i,"right");this._removeClass(i,"top")},this)}if(this.options.orientation==="vertical"){this._addClass(this.sliderElem,"slider-vertical");this.stylePos="top";this.mousePos="pageY";this.sizePos="offsetHeight"}else{this._addClass(this.sliderElem,"slider-horizontal");this.sliderElem.style.width=z;this.options.orientation="horizontal";this.stylePos="left";this.mousePos="pageX";this.sizePos="offsetWidth"}this._setTooltipPosition();if(Array.isArray(this.options.ticks)&&this.options.ticks.length>0){this.options.max=Math.max.apply(Math,this.options.ticks);this.options.min=Math.min.apply(Math,this.options.ticks)}if(Array.isArray(this.options.value)){this.options.range=true;this._state.value=this.options.value}else{if(this.options.range){this._state.value=[this.options.value,this.options.max]}else{this._state.value=this.options.value}}this.trackLow=j||this.trackLow;this.trackSelection=r||this.trackSelection;this.trackHigh=q||this.trackHigh;if(this.options.selection==="none"){this._addClass(this.trackLow,"hide");this._addClass(this.trackSelection,"hide");this._addClass(this.trackHigh,"hide")}this.handle1=k||this.handle1;this.handle2=y||this.handle2;if(l===true){this._removeClass(this.handle1,"round triangle");this._removeClass(this.handle2,"round triangle hide");for(C=0;C<this.ticks.length;C++){this._removeClass(this.ticks[C],"round triangle hide")}}var E=["round","triangle","custom"];var B=E.indexOf(this.options.handle)!==-1;if(B){this._addClass(this.handle1,this.options.handle);this._addClass(this.handle2,this.options.handle);for(C=0;C<this.ticks.length;C++){this._addClass(this.ticks[C],this.options.handle)}}this._state.offset=this._offset(this.sliderElem);this._state.size=this.sliderElem[this.sizePos];this.setValue(this._state.value);this.handle1Keydown=this._keydown.bind(this,0);this.handle1.addEventListener("keydown",this.handle1Keydown,false);this.handle2Keydown=this._keydown.bind(this,1);this.handle2.addEventListener("keydown",this.handle2Keydown,false);this.mousedown=this._mousedown.bind(this);if(this.touchCapable){this.sliderElem.addEventListener("touchstart",this.mousedown,false)}this.sliderElem.addEventListener("mousedown",this.mousedown,false);if(this.options.tooltip==="hide"){this._addClass(this.tooltip,"hide");this._addClass(this.tooltip_min,"hide");this._addClass(this.tooltip_max,"hide")}else{if(this.options.tooltip==="always"){this._showTooltip();this._alwaysShowTooltip=true}else{this.showTooltip=this._showTooltip.bind(this);this.hideTooltip=this._hideTooltip.bind(this);this.sliderElem.addEventListener("mouseenter",this.showTooltip,false);this.sliderElem.addEventListener("mouseleave",this.hideTooltip,false);this.handle1.addEventListener("focus",this.showTooltip,false);this.handle1.addEventListener("blur",this.hideTooltip,false);this.handle2.addEventListener("focus",this.showTooltip,false);this.handle2.addEventListener("blur",this.hideTooltip,false)}}if(this.options.enabled){this.enable()}else{this.disable()}}a.prototype={_init:function(){},constructor:a,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:false,selection:"before",tooltip:"show",tooltip_split:false,handle:"round",reversed:false,enabled:true,formatter:function(h){if(Array.isArray(h)){return h[0]+" : "+h[1]}else{return h}},natural_arrow_keys:false,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,scale:"linear",focus:false,tooltip_position:null},getElement:function(){return this.sliderElem},getValue:function(){if(this.options.range){return this._state.value}else{return this._state.value[0]}},setValue:function(m,k,j){if(!m){m=0}var i=this.getValue();this._state.value=this._validateInputValue(m);var h=this._applyPrecision.bind(this);if(this.options.range){this._state.value[0]=h(this._state.value[0]);this._state.value[1]=h(this._state.value[1]);this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0]));this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))}else{this._state.value=h(this._state.value);this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))];this._addClass(this.handle2,"hide");if(this.options.selection==="after"){this._state.value[1]=this.options.max}else{this._state.value[1]=this.options.min}}if(this.options.max>this.options.min){this._state.percentage=[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),this.options.step*100/(this.options.max-this.options.min)]}else{this._state.percentage=[0,0,100]}this._layout();var l=this.options.range?this._state.value:this._state.value[0];if(k===true){this._trigger("slide",l)}if((i!==l)&&(j===true)){this._trigger("change",{oldValue:i,newValue:l})}this._setDataVal(l);return this},destroy:function(){this._removeSliderEventHandlers();this.sliderElem.parentNode.removeChild(this.sliderElem);this.element.style.display="";this._cleanUpEventCallbacksMap();this.element.removeAttribute("data");if(f){this._unbindJQueryEventHandlers();this.$element.removeData("slider")}},disable:function(){this._state.enabled=false;this.handle1.removeAttribute("tabindex");this.handle2.removeAttribute("tabindex");this._addClass(this.sliderElem,"slider-disabled");this._trigger("slideDisabled");return this},enable:function(){this._state.enabled=true;this.handle1.setAttribute("tabindex",0);this.handle2.setAttribute("tabindex",0);this._removeClass(this.sliderElem,"slider-disabled");this._trigger("slideEnabled");return this},toggle:function(){if(this._state.enabled){this.disable()}else{this.enable()}return this},isEnabled:function(){return this._state.enabled},on:function(h,i){this._bindNonQueryEventHandler(h,i);return this},off:function(h,i){if(f){this.$element.off(h,i);this.$sliderElem.off(h,i)}else{this._unbindNonQueryEventHandler(h,i)}},getAttribute:function(h){if(h){return this.options[h]}else{return this.options}},setAttribute:function(h,i){this.options[h]=i;return this},refresh:function(){this._removeSliderEventHandlers();c.call(this,this.element,this.options);if(f){f.data(this.element,"slider",this)}return this},relayout:function(){this._layout();return this},_removeSliderEventHandlers:function(){this.handle1.removeEventListener("keydown",this.handle1Keydown,false);this.handle2.removeEventListener("keydown",this.handle2Keydown,false);if(this.showTooltip){this.handle1.removeEventListener("focus",this.showTooltip,false);this.handle2.removeEventListener("focus",this.showTooltip,false)}if(this.hideTooltip){this.handle1.removeEventListener("blur",this.hideTooltip,false);this.handle2.removeEventListener("blur",this.hideTooltip,false)}if(this.showTooltip){this.sliderElem.removeEventListener("mouseenter",this.showTooltip,false)}if(this.hideTooltip){this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,false)}this.sliderElem.removeEventListener("touchstart",this.mousedown,false);this.sliderElem.removeEventListener("mousedown",this.mousedown,false)},_bindNonQueryEventHandler:function(h,i){if(this.eventToCallbackMap[h]===undefined){this.eventToCallbackMap[h]=[]}this.eventToCallbackMap[h].push(i)},_unbindNonQueryEventHandler:function(h,l){var k=this.eventToCallbackMap[h];if(k!==undefined){for(var j=0;j<k.length;j++){if(k[j]===l){k.splice(j,1);break}}}},_cleanUpEventCallbacksMap:function(){var k=Object.keys(this.eventToCallbackMap);for(var j=0;j<k.length;j++){var h=k[j];this.eventToCallbackMap[h]=null}},_showTooltip:function(){if(this.options.tooltip_split===false){this._addClass(this.tooltip,"in");this.tooltip_min.style.display="none";this.tooltip_max.style.display="none"}else{this._addClass(this.tooltip_min,"in");this._addClass(this.tooltip_max,"in");this.tooltip.style.display="none"}this._state.over=true},_hideTooltip:function(){if(this._state.inDrag===false&&this.alwaysShowTooltip!==true){this._removeClass(this.tooltip,"in");this._removeClass(this.tooltip_min,"in");this._removeClass(this.tooltip_max,"in")}this._state.over=false},_layout:function(){var s;if(this.options.reversed){s=[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]}else{s=[this._state.percentage[0],this._state.percentage[1]]}this.handle1.style[this.stylePos]=s[0]+"%";this.handle2.style[this.stylePos]=s[1]+"%";if(Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var h=this.options.orientation==="vertical"?"height":"width";var q=this.options.orientation==="vertical"?"marginTop":"marginLeft";var k=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var p=0;if(this.options.ticks_positions.length===0){this.tickLabelContainer.style[q]=-k/2+"px";p=this.tickLabelContainer.offsetHeight}else{for(m=0;m<this.tickLabelContainer.childNodes.length;m++){if(this.tickLabelContainer.childNodes[m].offsetHeight>p){p=this.tickLabelContainer.childNodes[m].offsetHeight}}}if(this.options.orientation==="horizontal"){this.sliderElem.style.marginBottom=p+"px"}}for(var m=0;m<this.options.ticks.length;m++){var t=this.options.ticks_positions[m]||this._toPercentage(this.options.ticks[m]);if(this.options.reversed){t=100-t}this.ticks[m].style[this.stylePos]=t+"%";this._removeClass(this.ticks[m],"in-selection");if(!this.options.range){if(this.options.selection==="after"&&t>=s[0]){this._addClass(this.ticks[m],"in-selection")}else{if(this.options.selection==="before"&&t<=s[0]){this._addClass(this.ticks[m],"in-selection")}}}else{if(t>=s[0]&&t<=s[1]){this._addClass(this.ticks[m],"in-selection")}}if(this.tickLabels[m]){this.tickLabels[m].style[h]=k+"px";if(this.options.ticks_positions[m]!==undefined){this.tickLabels[m].style.position="absolute";this.tickLabels[m].style[this.stylePos]=t+"%";this.tickLabels[m].style[q]=-k/2+"px"}}}}var l;if(this.options.range){l=this.options.formatter(this._state.value);this._setText(this.tooltipInner,l);this.tooltip.style[this.stylePos]=(s[1]+s[0])/2+"%";if(this.options.orientation==="vertical"){this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px")}else{this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px")}if(this.options.orientation==="vertical"){this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px")}else{this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px")}var r=this.options.formatter(this._state.value[0]);this._setText(this.tooltipInner_min,r);var n=this.options.formatter(this._state.value[1]);this._setText(this.tooltipInner_max,n);this.tooltip_min.style[this.stylePos]=s[0]+"%";if(this.options.orientation==="vertical"){this._css(this.tooltip_min,"margin-top",-this.tooltip_min.offsetHeight/2+"px")}else{this._css(this.tooltip_min,"margin-left",-this.tooltip_min.offsetWidth/2+"px")}this.tooltip_max.style[this.stylePos]=s[1]+"%";if(this.options.orientation==="vertical"){this._css(this.tooltip_max,"margin-top",-this.tooltip_max.offsetHeight/2+"px")}else{this._css(this.tooltip_max,"margin-left",-this.tooltip_max.offsetWidth/2+"px")}}else{l=this.options.formatter(this._state.value[0]);this._setText(this.tooltipInner,l);this.tooltip.style[this.stylePos]=s[0]+"%";if(this.options.orientation==="vertical"){this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px")}else{this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px")}}if(this.options.orientation==="vertical"){this.trackLow.style.top="0";this.trackLow.style.height=Math.min(s[0],s[1])+"%";this.trackSelection.style.top=Math.min(s[0],s[1])+"%";this.trackSelection.style.height=Math.abs(s[0]-s[1])+"%";this.trackHigh.style.bottom="0";this.trackHigh.style.height=(100-Math.min(s[0],s[1])-Math.abs(s[0]-s[1]))+"%"}else{this.trackLow.style.left="0";this.trackLow.style.width=Math.min(s[0],s[1])+"%";this.trackSelection.style.left=Math.min(s[0],s[1])+"%";this.trackSelection.style.width=Math.abs(s[0]-s[1])+"%";this.trackHigh.style.right="0";this.trackHigh.style.width=(100-Math.min(s[0],s[1])-Math.abs(s[0]-s[1]))+"%";var j=this.tooltip_min.getBoundingClientRect();var o=this.tooltip_max.getBoundingClientRect();if(j.right>o.left){this._removeClass(this.tooltip_max,"top");this._addClass(this.tooltip_max,"bottom");this.tooltip_max.style.top=18+"px"}else{this._removeClass(this.tooltip_max,"bottom");this._addClass(this.tooltip_max,"top");this.tooltip_max.style.top=this.tooltip_min.style.top}}},_removeProperty:function(h,i){if(h.style.removeProperty){h.style.removeProperty(i)}else{h.style.removeAttribute(i)}},_mousedown:function(i){if(!this._state.enabled){return false}this._state.offset=this._offset(this.sliderElem);this._state.size=this.sliderElem[this.sizePos];var h=this._getPercentage(i);if(this.options.range){var l=Math.abs(this._state.percentage[0]-h);var k=Math.abs(this._state.percentage[1]-h);this._state.dragged=(l<k)?0:1}else{this._state.dragged=0}this._state.percentage[this._state.dragged]=h;this._layout();if(this.touchCapable){document.removeEventListener("touchmove",this.mousemove,false);document.removeEventListener("touchend",this.mouseup,false)}if(this.mousemove){document.removeEventListener("mousemove",this.mousemove,false)}if(this.mouseup){document.removeEventListener("mouseup",this.mouseup,false)}this.mousemove=this._mousemove.bind(this);this.mouseup=this._mouseup.bind(this);if(this.touchCapable){document.addEventListener("touchmove",this.mousemove,false);document.addEventListener("touchend",this.mouseup,false)}document.addEventListener("mousemove",this.mousemove,false);document.addEventListener("mouseup",this.mouseup,false);this._state.inDrag=true;var j=this._calculateValue();this._trigger("slideStart",j);this._setDataVal(j);this.setValue(j,false,true);this._pauseEvent(i);if(this.options.focus){this._triggerFocusOnHandle(this._state.dragged)}return true},_triggerFocusOnHandle:function(h){if(h===0){this.handle1.focus()}if(h===1){this.handle2.focus()}},_keydown:function(l,k){if(!this._state.enabled){return false}var j;switch(k.keyCode){case 37:case 40:j=-1;break;case 39:case 38:j=1;break}if(!j){return}if(this.options.natural_arrow_keys){var h=(this.options.orientation==="vertical"&&!this.options.reversed);var i=(this.options.orientation==="horizontal"&&this.options.reversed);if(h||i){j=-j}}var m=this._state.value[l]+j*this.options.step;if(this.options.range){m=[(!l)?m:this._state.value[0],(l)?m:this._state.value[1]]}this._trigger("slideStart",m);this._setDataVal(m);this.setValue(m,true,true);this._setDataVal(m);this._trigger("slideStop",m);this._layout();this._pauseEvent(k);return false},_pauseEvent:function(h){if(h.stopPropagation){h.stopPropagation()}if(h.preventDefault){h.preventDefault()}h.cancelBubble=true;h.returnValue=false},_mousemove:function(i){if(!this._state.enabled){return false}var h=this._getPercentage(i);this._adjustPercentageForRangeSliders(h);this._state.percentage[this._state.dragged]=h;this._layout();var j=this._calculateValue(true);this.setValue(j,true,true);return false},_adjustPercentageForRangeSliders:function(j){if(this.options.range){var i=this._getNumDigitsAfterDecimalPlace(j);i=i?i-1:0;var h=this._applyToFixedAndParseFloat(j,i);if(this._state.dragged===0&&this._applyToFixedAndParseFloat(this._state.percentage[1],i)<h){this._state.percentage[0]=this._state.percentage[1];this._state.dragged=1}else{if(this._state.dragged===1&&this._applyToFixedAndParseFloat(this._state.percentage[0],i)>h){this._state.percentage[1]=this._state.percentage[0];this._state.dragged=0}}}},_mouseup:function(){if(!this._state.enabled){return false}if(this.touchCapable){document.removeEventListener("touchmove",this.mousemove,false);document.removeEventListener("touchend",this.mouseup,false)}document.removeEventListener("mousemove",this.mousemove,false);document.removeEventListener("mouseup",this.mouseup,false);this._state.inDrag=false;if(this._state.over===false){this._hideTooltip()}var h=this._calculateValue(true);this._layout();this._setDataVal(h);this._trigger("slideStop",h);return false},_calculateValue:function(h){var m;if(this.options.range){m=[this.options.min,this.options.max];if(this._state.percentage[0]!==0){m[0]=this._toValue(this._state.percentage[0]);m[0]=this._applyPrecision(m[0])}if(this._state.percentage[1]!==100){m[1]=this._toValue(this._state.percentage[1]);m[1]=this._applyPrecision(m[1])}}else{m=this._toValue(this._state.percentage[0]);m=parseFloat(m);m=this._applyPrecision(m)}if(h){var k=[m,Infinity];for(var j=0;j<this.options.ticks.length;j++){var l=Math.abs(this.options.ticks[j]-m);if(l<=k[1]){k=[this.options.ticks[j],l]}}if(k[1]<=this.options.ticks_snap_bounds){return k[0]}}return m},_applyPrecision:function(i){var h=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(i,h)},_getNumDigitsAfterDecimalPlace:function(i){var h=(""+i).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);if(!h){return 0}return Math.max(0,(h[1]?h[1].length:0)-(h[2]?+h[2]:0))},_applyToFixedAndParseFloat:function(i,h){var j=i.toFixed(h);return parseFloat(j)},_getPercentage:function(j){if(this.touchCapable&&(j.type==="touchstart"||j.type==="touchmove")){j=j.touches[0]}var i=j[this.mousePos];var l=this._state.offset[this.stylePos];var k=i-l;var h=(k/this._state.size)*100;h=Math.round(h/this._state.percentage[2])*this._state.percentage[2];if(this.options.reversed){h=100-h}return Math.max(0,Math.min(100,h))},_validateInputValue:function(h){if(typeof h==="number"){return h}else{if(Array.isArray(h)){this._validateArray(h);return h}else{throw new Error(g.formatInvalidInputErrorMsg(h))}}},_validateArray:function(k){for(var j=0;j<k.length;j++){var h=k[j];if(typeof h!=="number"){throw new Error(g.formatInvalidInputErrorMsg(h))}}},_setDataVal:function(h){this.element.setAttribute("data-value",h);this.element.setAttribute("value",h);this.element.value=h},_trigger:function(h,m){m=(m||m===0)?m:undefined;var l=this.eventToCallbackMap[h];if(l&&l.length){for(var k=0;k<l.length;k++){var j=l[k];j(m)}}if(f){this._triggerJQueryEvent(h,m)}},_triggerJQueryEvent:function(h,j){var i={type:h,value:j};this.$element.trigger(i);this.$sliderElem.trigger(i)},_unbindJQueryEventHandlers:function(){this.$element.off();this.$sliderElem.off()},_setText:function(h,i){if(typeof h.innerText!=="undefined"){h.innerText=i}else{if(typeof h.textContent!=="undefined"){h.textContent=i}}},_removeClass:function(k,m){var j=m.split(" ");var o=k.className;for(var h=0;h<j.length;h++){var n=j[h];var l=new RegExp("(?:\\s|^)"+n+"(?:\\s|$)");o=o.replace(l," ")}k.className=o.trim()},_addClass:function(k,m){var j=m.split(" ");var p=k.className;for(var h=0;h<j.length;h++){var o=j[h];var l=new RegExp("(?:\\s|^)"+o+"(?:\\s|$)");var n=l.test(p);if(!n){p+=" "+o}}k.className=p.trim()},_offsetLeft:function(h){return h.getBoundingClientRect().left},_offsetTop:function(i){var h=i.offsetTop;while((i=i.offsetParent)&&!isNaN(i.offsetTop)){h+=i.offsetTop}return h},_offset:function(h){return{left:this._offsetLeft(h),top:this._offsetTop(h)}},_css:function(k,h,j){if(f){f.style(k,h,j)}else{var i=h.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(l,m){return m.toUpperCase()});k.style[i]=j}},_toValue:function(h){return this.options.scale.toValue.apply(this,[h])},_toPercentage:function(h){return this.options.scale.toPercentage.apply(this,[h])},_setTooltipPosition:function(){var h=[this.tooltip,this.tooltip_min,this.tooltip_max];if(this.options.orientation==="vertical"){var i=this.options.tooltip_position||"right";var j=(i==="left")?"right":"left";h.forEach(function(k){this._addClass(k,i);k.style[j]="100%"}.bind(this))}else{if(this.options.tooltip_position==="bottom"){h.forEach(function(k){this._addClass(k,"bottom");k.style.top=22+"px"}.bind(this))}else{h.forEach(function(k){this._addClass(k,"top");k.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))}}}};if(f){var e=f.fn.slider?"bootstrapSlider":"slider";f.bridget(e,a)}})(b);return a}));