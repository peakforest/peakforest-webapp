/*!
 * $ Templates Plugin 1.0.4
 * https://github.com/KanbanSolutions/jquery-tmpl
 *
 * Copyright Software Freedom Conservancy, Inc.
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 */
(function(f,h){var u=f.fn.domManip,j="_tmplitem",q={},g={},y,x={key:0,data:{}},w=0,r=0,i=[];var b={sq_escape:/([\\'])/g,sq_unescape:/\\'/g,dq_unescape:/\\\\/g,nl_strip:/[\r\t\n]/g,shortcut_replace:/\$\{([^\}]*)\}/g,lang_parse:/\{\%(\/?)(\w+|.)(?:\(((?:[^\%]|\%(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\%]|\%(?!\}))*?)\))?\s*\%\}/g,old_lang_parse:/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,template_anotate:/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,text_only_template:/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,html_expr:/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! |\{\%! /,last_word:/\w$/};function l(B,A,D,E){var C={data:E||(E===0||E===false)?E:(A?A.data:{}),_wrap:A?A._wrap:null,tmpl:null,parent:A||null,nodes:[],calls:d,nest:c,wrap:o,html:s,update:z};if(B){f.extend(C,B,{nodes:[],parent:A})}if(D){C.tmpl=D;C._ctnt=C._ctnt||f.isFunction(C.tmpl)&&C.tmpl(f,C)||D;C.key=++w;(i.length?g:q)[w]=C}return C}f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(A,B){f.fn[A]=function(C){var F=[],I=f(C),E,G,D,J,H=this.length===1&&this[0].parentNode;y=q||{};if(H&&H.nodeType===11&&H.childNodes.length===1&&I.length===1){I[B](this[0]);F=this}else{for(G=0,D=I.length;G<D;G++){r=G;E=(G>0?this.clone(true):this).get();f(I[G])[B](E);F=F.concat(E)}r=0;F=this.pushStack(F,A,I.selector)}J=y;y=null;f.tmpl.complete(J);return F}});f.fn.extend({tmpl:function(D,C,A){var B=f.tmpl(this[0],D,C,A);return B},tmplItem:function(){var A=f.tmplItem(this[0]);return A},template:function(B){var A=f.template(B,this[0]);return A},domManip:function(E,H,G,I){if(E[0]&&f.isArray(E[0])){var B=f.makeArray(arguments),A=E[0],F=A.length,C=0,D;while(C<F&&!(D=f.data(A[C++],"tmplItem"))){}if(D&&r){B[2]=function(J){f.tmpl.afterManip(this,J,G)}}u.apply(this,B)}else{u.apply(this,arguments)}r=0;if(!y){f.tmpl.complete(q)}return this}});f.extend({tmpl:function(C,F,E,B){var D,A=!B;if(A){B=x;C=f.template[C]||f.template(null,C);g={}}else{if(!C){C=B.tmpl;q[B.key]=B;B.nodes=[];if(B.wrapped){t(B,B.wrapped)}return f(n(B,null,B.tmpl(f,B)))}}if(!C){return[]}if(typeof F==="function"){F=F.call(B||{})}if(E&&E.wrapped){t(E,E.wrapped)}D=f.isArray(F)?f.map(F,function(G){return G?l(E,B,C,G):null}):[l(E,B,C,F)];return A?f(n(B,null,D)):D},tmplItem:function(B){var A;if(B instanceof f){B=B[0]}while(B&&B.nodeType===1&&!(A=f.data(B,"tmplItem"))&&(B=B.parentNode)){}return A||x},template:function(B,A){if(A){if(typeof A==="string"){A=m(A)}else{if(A instanceof f){A=A[0]||{}}}if(A.nodeType){A=f.data(A,"tmpl")||f.data(A,"tmpl",m(A.innerHTML))}return typeof B==="string"?(f.template[B]=A):A}return B?(typeof B!=="string"?f.template(null,B):(f.template[B]||f.template(null,B))):null},encode:function(A){return(""+A).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});f.extend(f.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{open:"}else{"},elif:{open:"}else if(($notnull_1) && $1a){"},elseif:{open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(A){q={}},afterManip:function v(C,A,D){var B=A.nodeType===11?f.makeArray(A.childNodes):A.nodeType===1?[A]:[];D.call(C,A);p(B);r++}});function n(A,E,C){var D,B=C?f.map(C,function(F){return(typeof F==="string")?(A.key?F.replace(b.template_anotate,"$1 "+j+'="'+A.key+'" $2'):F):n(F,A,F._ctnt)}):A;if(E){return B}B=B.join("");B.replace(b.text_only_template,function(G,H,F,I){D=f(F).get();p(D);if(H){D=a(H).concat(D)}if(I){D=D.concat(a(I))}});return D?D:a(B)}function a(B){var A=document.createElement("div");A.innerHTML=B;return f.makeArray(A.childNodes)}function m(C){var B=function(M,G,K,H,I,N,J){if(!K){return"');__.push('"}var P=f.tmpl.tag[K],F,L,O;if(!P&&window.console&&console.group){console.group("Exception");console.error(C);console.error("Unknown tag: ",K);console.error(M);console.groupEnd("Exception")}if(!P){return"');__.push('"}F=P._default||[];if(N&&!b.last_word.test(I)){I+=N;N=""}if(I){I=k(I);J=J?(","+k(J)+")"):(N?")":"");L=N?(I.indexOf(".")>-1?I+k(N):("("+I+").call($item"+J)):I;O=N?L:"(typeof("+I+")==='function'?("+I+").call($item):("+I+"))"}else{O=L=F.$1||"null"}H=k(H);return"');"+P[G?"close":"open"].split("$notnull_1").join(I?"typeof("+I+")!=='undefined' && ("+I+")!=null":"true").split("$1a").join(O).split("$1").join(L).split("$2").join(H||F.$2||"")+"__.push('"};var D=function(){if(f.tmpl.tag[arguments[2]]){console.group("Depreciated");console.info(C);console.info("Markup has old style indicators, use {% %} instead of {{ }}");console.info(arguments[0]);console.groupEnd("Depreciated");return B.apply(this,arguments)}else{return"');__.push('{{"+arguments[2]+"}}');__.push('"}};var A="var $=$,call,__=[],$data=$item.data; with($data){__.push('";var E=f.trim(C);E=E.replace(b.sq_escape,"\\$1");E=E.replace(b.nl_strip," ");E=E.replace(b.shortcut_replace,"{%= $1%}");E=E.replace(b.lang_parse,B);E=E.replace(b.old_lang_parse,D);A+=E;A+="');}return __;";return new Function("$","$item",A)}function t(B,A){B._wrap=n(B,true,f.isArray(A)?A:[b.html_expr.test(A)?A:f(A).html()]).join("")}function k(A){return A?A.replace(b.sq_unescape,"'").replace(b.dq_unescape,"\\"):null}function e(A){var B=document.createElement("div");B.appendChild(A.cloneNode(true));return B.innerHTML}function p(G){var I="_"+r,B,A,E={},F,D,C;for(F=0,D=G.length;F<D;F++){if((B=G[F]).nodeType!==1){continue}A=B.getElementsByTagName("*");for(C=A.length-1;C>=0;C--){H(A[C])}H(B)}function H(O){var L,N=O,M,J,K;if((K=O.getAttribute(j))){while(N.parentNode&&(N=N.parentNode).nodeType===1&&!(L=N.getAttribute(j))){}if(L!==K){N=N.parentNode?(N.nodeType===11?0:(N.getAttribute(j)||0)):0;if(!(J=q[K])){J=g[K];J=l(J,q[N]||g[N]);J.key=++w;q[w]=J}if(r){P(K)}}O.removeAttribute(j)}else{if(r&&(J=f.data(O,"tmplItem"))){P(J.key);q[J.key]=J;N=f.data(O.parentNode,"tmplItem");N=N?N.key:0}}if(J){M=J;while(M&&M.key!=N){M.nodes.push(O);M=M.parent}delete J._ctnt;delete J._wrap;f.data(O,"tmplItem",J)}function P(Q){Q=Q+I;J=E[Q]=(E[Q]||l(J,q[J.parent.key+I]||J.parent))}}}function d(C,A,D,B){if(!C){return i.pop()}i.push({_:C,tmpl:A,item:this,data:D,options:B})}function c(A,C,B){return f.tmpl(f.template(A),C,B,this)}function o(C,A){var B=C.options||{};B.wrapped=A;return f.tmpl(f.template(C.tmpl),C.data,B,C.item)}function s(B,C){var A=this._wrap;return f.map(f(f.isArray(A)?A.join(""):A).filter(B||"*"),function(D){return C?D.innerText||D.textContent:D.outerHTML||e(D)})}function z(){var A=this.nodes;f.tmpl(null,null,null,this).insertBefore(A[0]);f(A).remove()}})(jQuery);