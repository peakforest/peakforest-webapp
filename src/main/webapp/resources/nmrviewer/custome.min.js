var renderChartM="#stgraph";var renderChartS="#stgraph";urlS="nmr-viewer-converter";urlM="nmr-viewer-converter";var chart;var Rarray;$(renderChartM).empty();$(renderChartS).empty();function nmrChart(a){chart=st.chart.nmr().legend(true).xlabel("ppm").labels(true).margins([20,200,60,20]);chart.render(renderChartM);Rarray=loadChart(0,a)}function nmrSingle(c,b,e,d){var a=renderChartS+""+b+""+e;$(a).empty();c=c.split(",")[0];chart=st.chart.nmr().legend(true).xlabel("ppm").labels(true).margins([20,200,60,20]);chart.render(a);loadChart(1,c,null,d)}function loadChart(a,b,e,c){e=e||0;switch(a){case 1:var d=st.data.array().xlimits(["xMin","xMax"]).ylimits(["yMin","yMax"]).y("data").title("id");chart.load(d);id=b.split(",")[0];sample=b.split(",")[1]||-1;pdata=b.split(",")[2]||1;POST={type:"single",id:id,sample:sample,pdata:pdata};sendData=JSON.stringify(POST);st.parser.raw(sendData,urlS,function(f){console.log("data fetched!");f.id=c;d.add((f))});break}if(typeof Rarray!=="undefined"){return(Rarray)}};